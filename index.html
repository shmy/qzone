<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <title>Document</title>
    <link rel="stylesheet" href="css/index.css">
    <script>
    window.addEventListener('DOMContentLoaded', function() {
        var prev = document.querySelector('.prev');
        // 下一页按钮
        var next = document.querySelector('.next');
        // 外部容器
        var pages = document.querySelector('.pages');
        // 页面集合
        var pageArr = pages.querySelectorAll('.page');
        // 页面数量
        var l = pageArr.length - 1;
        // 每个页面的高度
        var h = pageArr[0].offsetHeight;
        // 当前游标
        var index = 0;
        // 开始按钮绑定点击事件
        document.querySelector('.start').addEventListener('click', function() {
            // 按钮隐藏
            this.style.display = 'none';
            // 宇航员元素
            var man = document.querySelector('.man');
            // transitionend事件
            man.addEventListener('transitionend', function() {
                // 删除Loading页面
                document.body.removeChild(this.parentNode);
                // 页面1添加动画
                document.querySelector('#step1').classList.add('step1-animation');
                next.style.display = 'block';
            }, false);
            // 飞走吧
            man.style.transform = 'translateY(-200%) ';
        }, false);
        // 上一页
        prev.addEventListener('click', function() {
            index--;
            if (index <= 0) {
                index = 0;
                this.style.display = 'none';
            }
            next.style.display = 'block';
            pages.style.transform = 'translateY(-' + index * h + 'px)';
        }, false);
        // 下一页
        next.addEventListener('click', function() {
            index++;
            if (index >= l) {
                index = l;
                this.style.display = 'none';
            }
            prev.style.display = 'block';
            pages.style.transform = 'translateY(-' + index * h + 'px)';
        }, false);
    }, false);
    </script>
</head>

<body>
    <!-- 加载界面 -->
    <div class="page loading loading-animation">
        <div class="man"></div>
        <div class="start">马上穿越</div>
    </div>
    <!-- 展示页面父容器 -->
    <div class="pages">
        <div id="step1" class="page">
            <!-- 底部基座 -->
            <div class="bottom">
                <!-- 宇航员 -->
                <div class="man-1"></div>
                <!-- 火箭 -->
                <div class="rocket-1"></div>
            </div>
            <!-- 手机 -->
            <div class="phone-1">
                <!-- 气球 -->
                <div class="balloon-1"></div>
            </div>
            <!-- 行星 -->
            <div class="planet-1"></div>
        </div>
        <div class="page">2</div>
        <div class="page">3</div>
        <div class="page">4</div>
        <div class="page">5</div>
        <div class="page">6</div>
    </div>
    <!-- 上一页按钮 -->
    <div class="prev"></div>
    <!-- 下一页按钮 -->
    <div class="next"></div>
</body>

</html>
